{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1cd582e5_8504152b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1007145
      },
      "writtenOn": "2025-06-17T01:01:49Z",
      "side": 1,
      "message": "please post the actual error you\u0027re seeing",
      "revId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94c0ea4e_d530d1d8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 4157134
      },
      "writtenOn": "2025-06-17T16:59:06Z",
      "side": 1,
      "message": "Sure! Here it is:\n\n```\nTraceback (most recent call last):\n  File \"/home/someuser/aosp/upstream/.repo/repo/main.py\", line 869, in \u003cmodule\u003e\n    _Main(sys.argv[1:])\n  File \"/home/someuser/aosp/upstream/.repo/repo/main.py\", line 845, in _Main\n    result \u003d repo._Run(name, gopts, argv) or 0\n  File \"/home/someuser/aosp/upstream/.repo/repo/main.py\", line 293, in _Run\n    result \u003d run()\n  File \"/home/someuser/aosp/upstream/.repo/repo/main.py\", line 274, in \u003clambda\u003e\n    lambda: self._RunLong(name, gopts, argv, git_trace2_event_log) or 0\n  File \"/home/someuser/aosp/upstream/.repo/repo/main.py\", line 437, in _RunLong\n    execute_command()\n  File \"/home/someuser/aosp/upstream/.repo/repo/main.py\", line 403, in execute_command\n    execute_command_helper()\n  File \"/home/someuser/aosp/upstream/.repo/repo/main.py\", line 369, in execute_command_helper\n    result \u003d cmd.Execute(copts, cargs)\n  File \"/home/someuser/aosp/upstream/.repo/repo/subcmds/upload.py\", line 817, in Execute\n    self._MultipleBranches(opt, pending, people)\n  File \"/home/someuser/aosp/upstream/.repo/repo/subcmds/upload.py\", line 515, in _MultipleBranches\n    self._UploadAndReport(opt, todo, people)\n  File \"/home/someuser/aosp/upstream/.repo/repo/subcmds/upload.py\", line 657, in _UploadAndReport\n    self._UploadBranch(opt, branch, people)\n  File \"/home/someuser/aosp/upstream/.repo/repo/subcmds/upload.py\", line 631, in _UploadBranch\n    if sp and sp.repo_id and manifest.manifestProject.use_superproject:\n  File \"/home/someuser/aosp/upstream/.repo/repo/git_superproject.py\", line 184, in repo_id\n    rev \u003d GitRefs(self._work_git).get(\"HEAD\")\n  File \"/home/someuser/aosp/upstream/.repo/repo/git_refs.py\", line 45, in get\n    return self.all[name]\n  File \"/home/someuser/aosp/upstream/.repo/repo/git_refs.py\", line 40, in all\n    self._EnsureLoaded()\n  File \"/home/someuser/aosp/upstream/.repo/repo/git_refs.py\", line 69, in _EnsureLoaded\n    self._LoadAll()\n  File \"/home/someuser/aosp/upstream/.repo/repo/git_refs.py\", line 90, in _LoadAll\n    self._ReadLoose(\"refs/\")\n  File \"/home/someuser/aosp/upstream/.repo/repo/git_refs.py\", line 132, in _ReadLoose\n    for name in platform_utils.listdir(base):\n  File \"/home/someuser/aosp/upstream/.repo/repo/platform_utils.py\", line 214, in listdir\n    return os.listdir(_makelongpath(path))\nFileNotFoundError: [Errno 2] No such file or directory: \u0027/home/someuser/aosp/upstream/.repo/exp-superproject/925043f706ba64db713e9bf3b55987e2-superproject.git/refs/\u0027\n```",
      "parentUuid": "1cd582e5_8504152b",
      "revId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6bf46e3_a20bd828",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1007145
      },
      "writtenOn": "2025-06-17T18:37:02Z",
      "side": 1,
      "message": "probably related to b/401147338 \u0026 https://gerrit-review.googlesource.com/c/git-repo/+/472601",
      "parentUuid": "94c0ea4e_d530d1d8",
      "revId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3e2f41c_f47ce859",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1088583
      },
      "writtenOn": "2025-06-17T19:11:24Z",
      "side": 1,
      "message": "Thanks for the report. The root cause is this line: https://gerrit.googlesource.com/git-repo/+/refs/heads/main/subcmds/upload.py#631\n\nI wrote https://gerrit-review.googlesource.com/c/git-repo/+/484401 to fix this and added you to the change",
      "parentUuid": "c6bf46e3_a20bd828",
      "revId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d33354e6_3e0d4589",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 4157134
      },
      "writtenOn": "2025-06-17T20:09:17Z",
      "side": 1,
      "message": "Thanks! I considered re-ordering, but I was not sure if other places also had similar problems (or someone might in the future). Should the repo_id method handle the case where the folder does not exist (as in my PR) as well?",
      "parentUuid": "e3e2f41c_f47ce859",
      "revId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36948f99_3107123d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1088583
      },
      "writtenOn": "2025-06-17T20:30:34Z",
      "side": 1,
      "message": "I think that would make it harder to debug since we\u0027d be masking that error. IMO this is working correctly in that it fails loudly when the superproject doesn\u0027t exist, and it\u0027s up to the caller to determine when it should call `repo_id` at all",
      "parentUuid": "d33354e6_3e0d4589",
      "revId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "Submit requirement for the \u0027Code-Review\u0027 label"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Code-Review=MAX","label:Code-Review=MIN"],"atomExplanations":{"value":{"label:Code-Review=MAX":"","label:Code-Review=MIN":""}}}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Do-Not-Submit",
        "description": {
          "value": "Changes that have DO NOT SUBMIT in their commit message are not submittable."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:false"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""],"atomExplanations":{"value":{"message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\"":""}}}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:false"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[],"atomExplanations":{"value":null}}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "No-Unresolved-Comments",
        "description": {
          "value": "Changes that have unresolved comments are not submittable. Unless overriden by adding the hashtag allow-unresolved-comments."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "has:unresolved"
          }
        },
        "submittabilityExpression": {
          "expressionString": "-has:unresolved"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "hashtag:allow-unresolved-comments"
          }
        },
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:unresolved"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:unresolved"],"failingAtoms":[],"atomExplanations":{"value":{"has:unresolved":""}}}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-has:unresolved"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":["has:unresolved"],"failingAtoms":[],"atomExplanations":{"value":{"has:unresolved":""}}}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"hashtag:allow-unresolved-comments"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["hashtag:allow-unresolved-comments"],"atomExplanations":{"value":{"hashtag:allow-unresolved-comments":""}}}
      },
      "patchSetCommitId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval. Using a trusted device is required, see go/gerrit-onboarding#review-enforcement."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["is:review-enforced_gerrit"],"failingAtoms":[],"atomExplanations":{"value":{"is:review-enforced_gerrit":""}}}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforcement-satisfied_gerrit"],"atomExplanations":{"value":{"is:review-enforcement-satisfied_gerrit":"No approvals present"}}}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "Submit requirement for the \u0027Verified\u0027 label"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Verified=MAX","label:Verified=MIN"],"atomExplanations":{"value":{"label:Verified=MAX":"","label:Verified=MIN":""}}}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Want-Code-Review-From-All",
        "description": {
          "value": "A \u0027Code-Review\u0027 vote is required from all human reviewers (service users that are reviewers are ignored)."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "footer:\"Want-Code-Review: all\" -label:Code-Review\u003e\u003d1,users\u003dhuman_reviewers"
          }
        },
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003e\u003d1,users\u003dhuman_reviewers"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"footer:\"Want-Code-Review: all\" -label:Code-Review>=1,users=human_reviewers"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["footer:\"Want-Code-Review: all\"","label:Code-Review>=1,users=human_reviewers"],"atomExplanations":{"value":{"footer:\"Want-Code-Review: all\"":"","label:Code-Review>=1,users=human_reviewers":""}}}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review>=1,users=human_reviewers"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[],"atomExplanations":{"value":null}}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "c59dcd63217c846138120a0e482c5f8a63515377",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}