{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4b5d7fd7_9f8c1e83",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 1159376
      },
      "writtenOn": "2023-10-02T17:46:40Z",
      "side": 1,
      "message": "Try this out with `repo upload`. it would be interesting to know if there is a difference in the rate that the buffers are flushed/streamed to stdout/stderr.\n\nI recall having an issue that I couldn\u0027t reconcile",
      "revId": "af5a5493be59ce5db2031e6fc15c499c3dd11f89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5e4d40e_74b87d2f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 1148045
      },
      "writtenOn": "2023-10-02T18:17:43Z",
      "side": 1,
      "message": "I already did. I\u0027ve attached the screenshot in the other comment: https://gerrit-review.git.corp.google.com/c/git-repo/+/387774/comment/0e61e572_a1a0702e/",
      "parentUuid": "4b5d7fd7_9f8c1e83",
      "revId": "af5a5493be59ce5db2031e6fc15c499c3dd11f89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f650b064_ccad922a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 1148045
      },
      "writtenOn": "2023-10-02T19:50:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b5e4d40e_74b87d2f",
      "revId": "af5a5493be59ce5db2031e6fc15c499c3dd11f89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "06968d85_efd72629",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 1148045
      },
      "writtenOn": "2023-10-03T18:11:41Z",
      "side": 1,
      "message": "@jasonnc@google.com ping.",
      "revId": "af5a5493be59ce5db2031e6fc15c499c3dd11f89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e42788e_118246fd",
        "filename": "git_command.py",
        "patchSetId": 19
      },
      "lineNbr": 403,
      "author": {
        "id": 1159376
      },
      "writtenOn": "2023-10-03T18:59:57Z",
      "side": 1,
      "message": "This makes me uneasy. Perhaps you can add tests that enumerate:\n- Inputs for GitCommand\nv.s.\n- The expected values passed to Popen\n\nAlso, wondering if we could keep this logic in the same spot as above. \n\nFor a template SEE:\n- https://gerrit-review.git.corp.google.com/c/git-repo/+/380994",
      "range": {
        "startLine": 403,
        "startChar": 31,
        "endLine": 403,
        "endChar": 32
      },
      "revId": "af5a5493be59ce5db2031e6fc15c499c3dd11f89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc38f124_ade7d6c4",
        "filename": "git_command.py",
        "patchSetId": 19
      },
      "lineNbr": 403,
      "author": {
        "id": 1148045
      },
      "writtenOn": "2023-10-03T22:47:51Z",
      "side": 1,
      "message": "\u003e Perhaps you can add tests that enumerate\n\nAdded test cases.\n\n\u003e wondering if we could keep this logic in the same spot as above.\n\n`_RunCommand` needs to know the difference between the caller reading stderr Vs us reading it to know if it should do a blocking `communicate` call Vs logging the stderr stream as done here. I feel `_RunCommand` deciding this is better. Wdyt?",
      "parentUuid": "6e42788e_118246fd",
      "range": {
        "startLine": 403,
        "startChar": 31,
        "endLine": 403,
        "endChar": 32
      },
      "revId": "af5a5493be59ce5db2031e6fc15c499c3dd11f89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "102e3258_2727cbd4",
        "filename": "git_command.py",
        "patchSetId": 19
      },
      "lineNbr": 403,
      "author": {
        "id": 1159376
      },
      "writtenOn": "2023-10-05T16:34:24Z",
      "side": 1,
      "message": "If you think the logic belongs in _RunCommand, then why not put all of the logic in _RunCommand? Please also name things to be more descriptive ( I realize this isn\u0027t your fault - but it took me a few tries to figure out what is happening )\n\n\n```\n        stdin \u003d subprocess.PIPE if input else None\n        stdout \u003d subprocess.PIPE if capture_stdout else None\n        stderr \u003d (\n            subprocess.STDOUT\n            if merge_output\n            else (subprocess.PIPE if capture_stderr else None)\n        )\n        stream_and_capture_stderr \u003d not (capture_stdout or merge_output)\n        if stream_and_capture_stderr:\n            stderr \u003d subprocess.PIPE\n```",
      "parentUuid": "fc38f124_ade7d6c4",
      "range": {
        "startLine": 403,
        "startChar": 31,
        "endLine": 403,
        "endChar": 32
      },
      "revId": "af5a5493be59ce5db2031e6fc15c499c3dd11f89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c42e664_ac44fe6f",
        "filename": "git_command.py",
        "patchSetId": 19
      },
      "lineNbr": 583,
      "author": {
        "id": 1159376
      },
      "writtenOn": "2023-10-03T18:59:57Z",
      "side": 1,
      "message": "So I am wondering if we actually want to modify the error outside of what is logged by git normally - Since they are suggestions for users only I\u0027d like to keep them that way. If at all possible I\u0027d like to keep the trace 2 logs consistent.\n\nHere is what I am thinking:\n\n`RepoError` could have an `detailed_message()` message that by default would return same value as `__str__` and `RepoLogger` could use e.detailed_message() whenever available.\n\nPerhaps keep in the aggregate error logs?",
      "revId": "af5a5493be59ce5db2031e6fc15c499c3dd11f89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10c21b91_00cd4fae",
        "filename": "git_command.py",
        "patchSetId": 19
      },
      "lineNbr": 583,
      "author": {
        "id": 1148045
      },
      "writtenOn": "2023-10-03T22:47:51Z",
      "side": 1,
      "message": "\u003e If at all possible I\u0027d like to keep the trace 2 logs consistent.\nI moved suggestion to a separate property. `__str__` would just print it if a suggestion is available. I guess this should keep suggestion separate from trace2 logs.",
      "parentUuid": "1c42e664_ac44fe6f",
      "revId": "af5a5493be59ce5db2031e6fc15c499c3dd11f89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}