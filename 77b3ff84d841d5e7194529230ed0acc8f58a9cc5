{
  "comments": [
    {
      "key": {
        "uuid": "7c07cd52_f09a40a0",
        "filename": "project.py",
        "patchSetId": 2
      },
      "lineNbr": 1780,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2014-03-10T22:31:41Z",
      "side": 1,
      "message": "I don\u0027t think --no-tags conflicts with \u0027tag \u003ctag name\u003e\u0027, so why not move this outside the \u0027if not current_branch_only\u0027 condition completely? I think that means you take lines 1770-1773 up above 1766 and remove 1780 \u0026 1781.\n\nThoughts or corrections on my (untested) assumption?",
      "range": {
        "startLine": 1780,
        "startChar": 6,
        "endLine": 1780,
        "endChar": 17
      },
      "revId": "77b3ff84d841d5e7194529230ed0acc8f58a9cc5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0cc977_cf3cbdd2",
        "filename": "project.py",
        "patchSetId": 2
      },
      "lineNbr": 1780,
      "author": {
        "id": 1006257
      },
      "writtenOn": "2014-03-10T22:40:49Z",
      "side": 1,
      "message": "Not sure how that interacts with \u0027fetch tag \u003ctagname\u003e\u0027, but other than that, SGTM.",
      "parentUuid": "7c07cd52_f09a40a0",
      "range": {
        "startLine": 1780,
        "startChar": 6,
        "endLine": 1780,
        "endChar": 17
      },
      "revId": "77b3ff84d841d5e7194529230ed0acc8f58a9cc5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0cc977_2f7d8993",
        "filename": "project.py",
        "patchSetId": 2
      },
      "lineNbr": 1780,
      "author": {
        "id": 1012272
      },
      "writtenOn": "2014-03-10T22:46:56Z",
      "side": 1,
      "message": "yeah but then I believe would need something like:\n\n    if not (no_tags or depth):\n        cmd.pop(\u0027--no-tags\u0027)\n        cmd.append(\u0027--tags\u0027)\n\nIs there any reason we can\u0027t just remove the `--tags\u0027?",
      "parentUuid": "7c07cd52_f09a40a0",
      "range": {
        "startLine": 1780,
        "startChar": 6,
        "endLine": 1780,
        "endChar": 17
      },
      "revId": "77b3ff84d841d5e7194529230ed0acc8f58a9cc5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0cc977_0f82453f",
        "filename": "project.py",
        "patchSetId": 2
      },
      "lineNbr": 1780,
      "author": {
        "id": 1012272
      },
      "writtenOn": "2014-03-10T22:48:42Z",
      "side": 1,
      "message": "(that way we would be respecting the `remote.\u003cname\u003e.tagopt\u0027 config...",
      "parentUuid": "5c0cc977_2f7d8993",
      "range": {
        "startLine": 1780,
        "startChar": 6,
        "endLine": 1780,
        "endChar": 17
      },
      "revId": "77b3ff84d841d5e7194529230ed0acc8f58a9cc5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c07cd52_705e502b",
        "filename": "project.py",
        "patchSetId": 2
      },
      "lineNbr": 1780,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2014-03-10T22:50:57Z",
      "side": 1,
      "message": "Mitchel, why wouldn\u0027t this work?\n\n    # If using depth then we should not get all the tags since they may\n    # be outside of the depth.\n    if no_tags or depth:\n      cmd.append(\u0027--no-tags\u0027)\n    else:\n      cmd.append(\u0027--tags\u0027)\n\n    if not current_branch_only:\n      # Fetch whole repo\n      cmd.append(str((u\u0027+refs/heads/*:\u0027) + remote.ToLocal(\u0027refs/heads/*\u0027)))\n    elif tag_name is not None:\n      cmd.append(\u0027tag\u0027)\n      cmd.append(tag_name)\n    else:\n      branch \u003d self.revisionExpr\n      if is_sha1:\n        branch \u003d self.upstream\n      if branch.startswith(R_HEADS):\n        branch \u003d branch[len(R_HEADS):]\n      cmd.append(str((u\u0027+refs/heads/%s:\u0027 % branch) + remote.ToLocal(\u0027refs/heads/%s\u0027 % branch)))",
      "parentUuid": "5c0cc977_2f7d8993",
      "range": {
        "startLine": 1780,
        "startChar": 6,
        "endLine": 1780,
        "endChar": 17
      },
      "revId": "77b3ff84d841d5e7194529230ed0acc8f58a9cc5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0cc977_4f8c4d72",
        "filename": "project.py",
        "patchSetId": 2
      },
      "lineNbr": 1780,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2014-03-10T22:54:54Z",
      "side": 1,
      "message": "So currently if you give -c or if fetching one tag_name, we respect tagopt. Otherwise it looks at no_tags and depth to figure out what to do.\n\nIf we want to always respect tagopt I think that\u0027s a different change where we need to actually check the config for each repo and see if it\u0027s been set. If instead we\u0027re just looking to make --no-tags work consistently, I think my code above will do the trick.",
      "parentUuid": "7c07cd52_705e502b",
      "range": {
        "startLine": 1780,
        "startChar": 6,
        "endLine": 1780,
        "endChar": 17
      },
      "revId": "77b3ff84d841d5e7194529230ed0acc8f58a9cc5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}