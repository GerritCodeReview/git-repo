{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d0a90d11_ebde7b28",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1159376
      },
      "writtenOn": "2023-05-24T00:10:07Z",
      "side": 1,
      "message": "sokcevic@google.com Looking for high level review in response to go/git-repo-shallow.\n\nOutstanding:\n- Finalize opt-in / opt-out\n- event_log changes to track results of experiment\n- testing ...",
      "revId": "bd0c44e9a808b7107bacc119ec457bf25241b3ef",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8abfeb2_070ef96b",
        "filename": "repo",
        "patchSetId": 2
      },
      "lineNbr": 151,
      "author": {
        "id": 1007145
      },
      "writtenOn": "2023-05-24T08:49:27Z",
      "side": 1,
      "message": "make sure to follow this advice if this CL or similar lands",
      "revId": "bd0c44e9a808b7107bacc119ec457bf25241b3ef",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84ea0716_4576bdfc",
        "filename": "repo",
        "patchSetId": 2
      },
      "lineNbr": 151,
      "author": {
        "id": 1159376
      },
      "writtenOn": "2023-05-24T19:04:02Z",
      "side": 1,
      "message": "I am assuming that this corresponds to (Major, Minor) in the normal Semantic Versioning sense ?",
      "parentUuid": "f8abfeb2_070ef96b",
      "revId": "bd0c44e9a808b7107bacc119ec457bf25241b3ef",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fad1cf8e_72fbeca8",
        "filename": "repo",
        "patchSetId": 2
      },
      "lineNbr": 151,
      "author": {
        "id": 1159376
      },
      "writtenOn": "2023-05-24T23:02:49Z",
      "side": 1,
      "message": "Decided that we are not going to be making changes to the repo script, so no longer an issue ...",
      "parentUuid": "84ea0716_4576bdfc",
      "revId": "bd0c44e9a808b7107bacc119ec457bf25241b3ef",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58d79de5_639140af",
        "filename": "repo",
        "patchSetId": 2
      },
      "lineNbr": 379,
      "author": {
        "id": 1096638
      },
      "writtenOn": "2023-05-24T18:33:39Z",
      "side": 1,
      "message": "I suggest we don\u0027t add argument for now since we have other options to experiment with. Please correct me if I\u0027m wrong, user can already use existing cli arguments to achieve the same thing.\n\nWith this, we\u0027d ask user to run the following\n\n`repo init --depth\u003d1 --clone-filter-for-depth\u003dblob:none`\n\nWhich is the same as:\n\n`repo init --depth\u003d\"\" --partial-clone`\n\nIf that\u0027s correct, then I don\u0027t think adding the cli option is good long term solution either.",
      "revId": "bd0c44e9a808b7107bacc119ec457bf25241b3ef",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "349e4e94_4b17b07e",
        "filename": "repo",
        "patchSetId": 2
      },
      "lineNbr": 379,
      "author": {
        "id": 1159376
      },
      "writtenOn": "2023-05-24T19:04:02Z",
      "side": 1,
      "message": "I am looking to differentiate from --clone-filter which is most often set to blob:limit\u003d10M",
      "parentUuid": "58d79de5_639140af",
      "revId": "bd0c44e9a808b7107bacc119ec457bf25241b3ef",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6ff94591_989f26d6",
        "filename": "repo",
        "patchSetId": 2
      },
      "lineNbr": 379,
      "author": {
        "id": 1159376
      },
      "writtenOn": "2023-05-24T22:59:58Z",
      "side": 1,
      "message": "In any case the comment is noted. We can run experiment without changing CLI arguments.\n\nI changed things to use REPO_SHALLOW envvar.",
      "parentUuid": "349e4e94_4b17b07e",
      "revId": "bd0c44e9a808b7107bacc119ec457bf25241b3ef",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "007c46d0_59940792",
        "filename": "subcmds/sync.py",
        "patchSetId": 2
      },
      "lineNbr": 641,
      "author": {
        "id": 1096638
      },
      "writtenOn": "2023-05-24T18:33:39Z",
      "side": 1,
      "message": "instead of using this for MVP, why not read envvar, e.g.\n\n    clone_filter_for_depth\u003dos.environ.get(\"REPO_DEPTH_FILTER\")\n    \nor we could use gitconfig too, might play nicer with git-core tooling if we want to automate experiment\n\nthis is also a good place to emit trace2 event:\n\n    this.event_log.DefParamRepoEvents(...)",
      "revId": "bd0c44e9a808b7107bacc119ec457bf25241b3ef",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9d5775b_39589454",
        "filename": "subcmds/sync.py",
        "patchSetId": 2
      },
      "lineNbr": 641,
      "author": {
        "id": 1159376
      },
      "writtenOn": "2023-05-24T19:04:02Z",
      "side": 1,
      "message": "Are the config values automatically logged when updating the gitconfig? \n- https://gerrit.googlesource.com/git-repo/+/refs/heads/main/subcmds/sync.py#1761\n- https://gerrit.googlesource.com/git-repo/+/refs/heads/main/git_config.py#285",
      "parentUuid": "007c46d0_59940792",
      "revId": "bd0c44e9a808b7107bacc119ec457bf25241b3ef",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "702f63d6_4bab11df",
        "filename": "subcmds/sync.py",
        "patchSetId": 2
      },
      "lineNbr": 641,
      "author": {
        "id": 1159376
      },
      "writtenOn": "2023-05-24T22:59:58Z",
      "side": 1,
      "message": "Wondering if this is already done:\n- https://gerrit.googlesource.com/git-repo/+/refs/heads/main/main.py#470\n\n?",
      "parentUuid": "f9d5775b_39589454",
      "revId": "bd0c44e9a808b7107bacc119ec457bf25241b3ef",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}