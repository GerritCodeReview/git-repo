{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "dbf483c2_af48c92e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1075811
      },
      "writtenOn": "2021-02-01T20:44:03Z",
      "side": 1,
      "message": "Hi Jonathan,\n  I have changed the git clone to the following as you have suggested. I have found there is around 10 minutes for the first time \"repo sync --use-superproject\" and less than 5 secs for subsequent \"repo sync --use-superproject\". Ian and I are going to test this change after one day to see if it has any negative performance impacts.\n\n \"git clone --filter\u003dblob:none\" (_without_ --depth option)",
      "revId": "d54eb288d0fa3ec3c2dfa416e908a113d8b2fb48",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c03e440d_7412ca24",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1021072
      },
      "writtenOn": "2021-02-01T20:50:09Z",
      "side": 1,
      "message": "When I\u0027ve previously looked at the android superprojects, the vast majority of the data in them was actually the commit message history (omitted via --depth, but not --filter\u003dblob), not blobs. Not saying that one\u0027s better than the other, just that this is likely more similar to a full clone.",
      "parentUuid": "dbf483c2_af48c92e",
      "revId": "d54eb288d0fa3ec3c2dfa416e908a113d8b2fb48",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e26f2ac_47750798",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1007145
      },
      "writtenOn": "2021-02-01T20:59:13Z",
      "side": 1,
      "message": "it seems like we would want both.  the history is not useful at all.",
      "parentUuid": "c03e440d_7412ca24",
      "revId": "d54eb288d0fa3ec3c2dfa416e908a113d8b2fb48",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5713b041_0a1ef7d8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1075811
      },
      "writtenOn": "2021-02-01T22:35:20Z",
      "side": 1,
      "message": "Added back --depth\u003d1. git clone of superproject is less than 3 secs. \n\n$ time git clone --depth\u003d1 --filter\u003dblob:none sso://android/platform/superproject superproject\n\nreal\t0m2.385s\nuser\t0m0.284s\nsys\t0m0.323s",
      "parentUuid": "4e26f2ac_47750798",
      "revId": "d54eb288d0fa3ec3c2dfa416e908a113d8b2fb48",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6518ef0b_b2639052",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1075811
      },
      "writtenOn": "2021-02-02T04:53:13Z",
      "side": 1,
      "message": "I have removed --depth\u003d1 option. Ian and Jonathan have explained the reason.\n\nThe following is the one time cost of 25 secs. But it was recommended for  reachability.\n\nThe following is the explanation from Ian:\n\n\"If you depth own the server doesn\u0027t know what you know about in the history so it always sends you the whole thing Which is very slow.\n\nIf you have the full history it can send you incremental update history which is very small and fast\"\n\n\n$ time git clone --filter\u003dblob:none sso://android/platform/superproject superproject\n\n....\nreal\t0m25.221s\nuser\t0m14.656s\nsys\t0m9.193s",
      "parentUuid": "5713b041_0a1ef7d8",
      "revId": "d54eb288d0fa3ec3c2dfa416e908a113d8b2fb48",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}