{
  "pushCert": "certificate version 0.1\npusher Stefan Beller \u003csbeller@google.com\u003e 1466553782 -0700\nnonce AD0XjTWOJduPZu8vKBcWYzBm97q6Zds2LqRmygz3U/JG8zkma6Ac1Ah86QvQlj4YIDU9OR4ENLDk\n\n0000000000000000000000000000000000000000 7d6420236eb1402ad5cd0dd791d85dbe217a54d5 refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABAgAGBQJXadW2AAoJEGt7+xNJsB0b0eoH+wQIxJdX9PnbSvds6Uk5s8Z2\nq4YKIvrm8DVqrEWMkJSmb7ku9qjDZTe2MKJC23KhDyz3Ij3eKhwubKh8IsDsePPy\niyBNqWf7BwbineszanWgBkSbdvyYcA3kNLgn+hx2MYVz2I/2XHbmLROak7z/MUdV\nZSfYScT6Q61wObfG6YD3Sq7DesFNsN1KJPcCpEwFS6WElH3S8/GDA6FfBPrsVyF2\n8NHUEYn9P06WUqECaWiVITI9DR7EFNeFwoA6Nheu4xTdTjZzAzNR7QfISw2VT0iC\nCCFQpB66LKYmbQLrlCW+ImyoOYFAgOuXft2Z1eAGea6gGK1Z7bFN9lKJcnn1mFc\u003d\n\u003d8DQD\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "0e250aa0_56b254ff",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 1021072
      },
      "writtenOn": "2016-06-22T01:27:19Z",
      "side": 1,
      "message": "This seems strange -- the default is just a parsing thing, it doesn\u0027t change the behavior otherwise. And we still need to know the ref-based revision for things like upload, so changing the revision during parsing seems wrong. (You could also set upstream if there isn\u0027t an upstream I suppose)\n\nWhat\u0027s the behavior of \"repo manifest\" then -- currently only \u0027-r\u0027 would resolve the revision (and to the current value in the worktree).\n\nWhy not use the revisionExpr / revisionId split in Project, so we\u0027d create the project with revisionExpr as we do now, but if we have a matching submodule, set revisionId to the revision from the submodule.",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 36,
        "endChar": 21
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e818ac8_36e578e6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 36,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-06-22T17:58:34Z",
      "side": 1,
      "message": "\"repo manifest\" is broken by this indeed..\n\nI\u0027ll look into the revisionId in Projects.",
      "parentUuid": "0e250aa0_56b254ff",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 36,
        "endChar": 21
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0efc2a2a_fec9415c",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 132,
      "author": {
        "id": 1021072
      },
      "writtenOn": "2016-06-22T01:27:19Z",
      "side": 1,
      "message": "How are you going to support branches other than master?",
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e08e263_50aceca0",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 132,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-06-22T21:08:05Z",
      "side": 1,
      "message": "All we want from this repository is a \"git ls-tree \u003csha1\u003e -- paths\" to read the versions, so strictly speaking we don\u0027t need to have a worktree as we can do \"git ls-tree non-master -- submodule-path\" in a bare repository for any branch.\n\nThat\u0027s what we do in Project._GetSubmodules using the internal git_ls_tree there. I think we need to add a \u0027--recursive\u0027 there, too.\n\nSo having a worktree is more about making changes to the repo and I don\u0027t think we want that to be done?",
      "parentUuid": "0efc2a2a_fec9415c",
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0efc2a2a_7ed65101",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 398,
      "author": {
        "id": 1021072
      },
      "writtenOn": "2016-06-22T01:27:19Z",
      "side": 1,
      "message": "is this used?",
      "range": {
        "startLine": 398,
        "startChar": 0,
        "endLine": 398,
        "endChar": 30
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e0bae62_2f846920",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 398,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-06-22T17:58:34Z",
      "side": 1,
      "message": "no, will remove.",
      "parentUuid": "0efc2a2a_7ed65101",
      "range": {
        "startLine": 398,
        "startChar": 0,
        "endLine": 398,
        "endChar": 30
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0efc2a2a_5edb9525",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 409,
      "author": {
        "id": 1021072
      },
      "writtenOn": "2016-06-22T01:27:19Z",
      "side": 1,
      "message": "Local manifests complicate this, since they can change anything in the manifest, and it won\u0027t be reflected in the superproject. Should we just disable useSuperProject if there are local manifests, or verify that the project definition matches the submodule definition?",
      "range": {
        "startLine": 409,
        "startChar": 6,
        "endLine": 409,
        "endChar": 61
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e0bae62_0f89a536",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 409,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-06-22T17:58:34Z",
      "side": 1,
      "message": "I would not disable the superproject in case of local manifests, but only take care of the revisions as provided by the superproject.",
      "parentUuid": "0efc2a2a_5edb9525",
      "range": {
        "startLine": 409,
        "startChar": 6,
        "endLine": 409,
        "endChar": 61
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae479e66_c3efb6ba",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 409,
      "author": {
        "id": 1021072
      },
      "writtenOn": "2016-06-22T20:10:06Z",
      "side": 1,
      "message": "Ok, as long as you\u0027re verifying that the url and branch match between the submodule and the project. Local manifests can use \u003cremove-project\u003e + \u003cproject\u003e to change the url or branch.",
      "parentUuid": "2e0bae62_0f89a536",
      "range": {
        "startLine": 409,
        "startChar": 6,
        "endLine": 409,
        "endChar": 61
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e250aa0_36a7d8c1",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 756,
      "author": {
        "id": 1021072
      },
      "writtenOn": "2016-06-22T01:27:19Z",
      "side": 1,
      "message": "useSuperProject? (In case it was turned off in the manifest)",
      "range": {
        "startLine": 756,
        "startChar": 28,
        "endLine": 756,
        "endChar": 55
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e0bae62_6f8e7140",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 756,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-06-22T17:58:34Z",
      "side": 1,
      "message": "Oh, right.\n\nHere would also be the place where we set the revisionId instead of the revisionExpr ?",
      "parentUuid": "0e250aa0_36a7d8c1",
      "range": {
        "startLine": 756,
        "startChar": 28,
        "endLine": 756,
        "endChar": 55
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae479e66_a3ecbac6",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 756,
      "author": {
        "id": 1021072
      },
      "writtenOn": "2016-06-22T20:10:06Z",
      "side": 1,
      "message": "Yeah, in the Project constructor below we\u0027re using None for revisionId. Setting that to the submodule revision seems like the right choice. Though we may be using revisionExpr / revisionId improperly in some places.",
      "parentUuid": "2e0bae62_6f8e7140",
      "range": {
        "startLine": 756,
        "startChar": 28,
        "endLine": 756,
        "endChar": 55
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e0bae62_4f93ad64",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 763,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-06-22T17:58:34Z",
      "side": 1,
      "message": "This would go away with local manifests as it is just useless output. Maybe we can collect it and print it later nicely formatted (\"There were 42 projects not synced by superproject\")",
      "range": {
        "startLine": 761,
        "startChar": 0,
        "endLine": 763,
        "endChar": 18
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae479e66_83e9beb6",
        "filename": "manifest_xml.py",
        "patchSetId": 3
      },
      "lineNbr": 763,
      "author": {
        "id": 1021072
      },
      "writtenOn": "2016-06-22T20:10:06Z",
      "side": 1,
      "message": "Yeah, it would probably be a good idea to let the user know that some fetches won\u0027t be atomic.",
      "parentUuid": "2e0bae62_4f93ad64",
      "range": {
        "startLine": 761,
        "startChar": 0,
        "endLine": 763,
        "endChar": 18
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0efc2a2a_3ee0c9d5",
        "filename": "subcmds/sync.py",
        "patchSetId": 3
      },
      "lineNbr": 683,
      "author": {
        "id": 1021072
      },
      "writtenOn": "2016-06-22T01:27:19Z",
      "side": 1,
      "message": "This should be moved inside the useSuperProject check, since revp may exist from a prior use of useSuperProject that has since been removed.",
      "range": {
        "startLine": 683,
        "startChar": 6,
        "endLine": 683,
        "endChar": 21
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e0bae62_af97b94e",
        "filename": "subcmds/sync.py",
        "patchSetId": 3
      },
      "lineNbr": 683,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2016-06-22T17:58:34Z",
      "side": 1,
      "message": "That makes sense. I just thought we\u0027d want an easy way to enable it without changing the manifest, so it can be dog fooded easier. But I guess editing the local manifest is the way to go instead of correctly setting up the revisions project.",
      "parentUuid": "0efc2a2a_3ee0c9d5",
      "range": {
        "startLine": 683,
        "startChar": 6,
        "endLine": 683,
        "endChar": 21
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae479e66_63200201",
        "filename": "subcmds/sync.py",
        "patchSetId": 3
      },
      "lineNbr": 683,
      "author": {
        "id": 1021072
      },
      "writtenOn": "2016-06-22T20:10:06Z",
      "side": 1,
      "message": "Maybe an init and/or sync command line option to override the manifest? (with init saving the choice to the manifest gitconfig like --depth is stored)",
      "parentUuid": "2e0bae62_af97b94e",
      "range": {
        "startLine": 683,
        "startChar": 6,
        "endLine": 683,
        "endChar": 21
      },
      "revId": "7d6420236eb1402ad5cd0dd791d85dbe217a54d5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}