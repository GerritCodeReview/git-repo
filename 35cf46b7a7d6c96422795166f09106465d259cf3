{
  "comments": [
    {
      "key": {
        "uuid": "51f37389_39233338",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1007145
      },
      "writtenOn": "2020-08-28T03:47:19Z",
      "side": 1,
      "message": "\"doesn\u0027t work\"",
      "range": {
        "startLine": 10,
        "startChar": 45,
        "endLine": 10,
        "endChar": 59
      },
      "revId": "35cf46b7a7d6c96422795166f09106465d259cf3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa34616b_41e76c4c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1099571
      },
      "writtenOn": "2020-08-28T08:35:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "51f37389_39233338",
      "range": {
        "startLine": 10,
        "startChar": 45,
        "endLine": 10,
        "endChar": 59
      },
      "revId": "35cf46b7a7d6c96422795166f09106465d259cf3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf3bff1c_00de3bb0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1007145
      },
      "writtenOn": "2020-08-28T03:47:19Z",
      "side": 1,
      "message": "add:\n\n Bug: https://crbug.com/gerrit/12389",
      "revId": "35cf46b7a7d6c96422795166f09106465d259cf3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f8a7f68_d1021ed5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1099571
      },
      "writtenOn": "2020-08-28T08:35:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cf3bff1c_00de3bb0",
      "revId": "35cf46b7a7d6c96422795166f09106465d259cf3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "28c744c5_88c74172",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1099571
      },
      "writtenOn": "2020-08-28T02:49:52Z",
      "side": 1,
      "message": "This change makes `repo status` faster.\n\n* It becomes from 13 sec to 1.7 sec with `-j48` on my cloud environment (48 cores) and my directory (Chrome OS checkout, 702 projects).\n* When we use only few number of jobs (e.g. `-j2`), the speed doesn\u0027t change. \n* There is no change when the files are not cached. For example, the first run after `sync \u0026\u0026 sh -c \u0027echo 3 \u003e /proc/sys/vm/drop_caches\u0027` takes about 2 minutes both with thread and with processes.",
      "revId": "35cf46b7a7d6c96422795166f09106465d259cf3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e3aecc68_c7d52f46",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1007145
      },
      "writtenOn": "2020-08-28T03:47:19Z",
      "side": 1,
      "message": "i\u0027m guessing you tested on Linux.  did you try Windows/macOS too ?  if not, i can check them for you.",
      "revId": "35cf46b7a7d6c96422795166f09106465d259cf3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "466c12d2_e8a98185",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1099571
      },
      "writtenOn": "2020-08-28T08:35:13Z",
      "side": 1,
      "message": "I tested only on Linux.\nI have no testing environments on Windows nor macOS, so I want to ask you to test. Thank you!",
      "parentUuid": "e3aecc68_c7d52f46",
      "revId": "35cf46b7a7d6c96422795166f09106465d259cf3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e61672b_bdade4d0",
        "filename": "subcmds/status.py",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1007145
      },
      "writtenOn": "2020-08-28T03:47:19Z",
      "side": 1,
      "message": "i don\u0027t think this design is very good at distributing load.  if i have 100 repos, 90 of which are small, and 10 that are very large, and i run with -j10, this could assign the 10 large ones to a single process, and the remaining small jobs to the other 9 processes.  so we\u0027d complete the 90 small ones quickly, but take a long time with the remaining 10 large ones.\n\ni think you want to:\n\n* create a multiprocessing.Pool() instead\n* change _StatusHelper so it operates on a single project\n* shuffle the _StatusHelper arguments so |project| comes last\n* create a functor with functools.partial(self._StatusHelper, counter, opt.quiet)\n* use pool.map() on the functor \u0026 all_projects",
      "range": {
        "startLine": 136,
        "startChar": 0,
        "endLine": 138,
        "endChar": 55
      },
      "revId": "35cf46b7a7d6c96422795166f09106465d259cf3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89e992a9_8e4f38d8",
        "filename": "subcmds/status.py",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1099571
      },
      "writtenOn": "2020-08-28T08:35:13Z",
      "side": 1,
      "message": "multiprocessing.Pool is useful, however it seems we cannot use this because pool.map(f, args) requires that f and args are pickle-able but the Project class is not pickle-able.\n\nInstead, I passed all Project objects anyway to the constructor of multiprocessing.Process, and implement a job queue which passes only indices of projects.",
      "parentUuid": "8e61672b_bdade4d0",
      "range": {
        "startLine": 136,
        "startChar": 0,
        "endLine": 138,
        "endChar": 55
      },
      "revId": "35cf46b7a7d6c96422795166f09106465d259cf3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}